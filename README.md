# Collection
Ответы на вопросы.

1. Дайте определение понятию “исключение”
Исключение – это проблема(ошибка) возникающая во время выполнения программы. Исключения могут возникать во многих случаях, например:

  -Пользователь ввел некорректные данные.
  -Файл, к которому обращается программа, не найден.
  -Сетевое соединение с сервером было утеряно во время передачи данных. И т.д.
Все исключения в Java являются объектами. Поэтому они могут порождаться не только автоматически при возникновении исключительной ситуации, но и создаваться самим разработчиком.

2.Какова иерархия исключений.

Исключения делятся на несколько классов, но все они имеют общего предка — класс Throwable. Его потомками являются подклассы Exception и Error.

Исключения (Exceptions) являются результатом проблем в программе, которые в принципе решаемые и предсказуемые. Например, произошло деление на ноль в целых числах.

Ошибки (Errors) представляют собой более серьёзные проблемы, которые, согласно спецификации Java, не следует пытаться обрабатывать в собственной программе, 
поскольку они связаны с проблемами уровня JVM. Например, исключения такого рода возникают, если закончилась память, доступная виртуальной машине.
Программа дополнительную память всё равно не сможет обеспечить для JVM.

В Java все исключения делятся на два типа: контролируемые исключения (checked) и неконтролируемые исключения (unchecked), 
к которым относятся ошибки (Errors) и исключения времени выполнения (RuntimeExceptions, потомок класса Exception).

Контролируемые исключения представляют собой ошибки, которые можно и нужно обрабатывать в программе, 
к этому типу относятся все потомки класса Exception (но не RuntimeException).

3.Можно/нужно ли обрабатывать ошибки jvm?
Обрабатывать можно, но делать этого не стоит. Разработчику не предоставлены инструменты для обработки ошибок системы и виртуальной машины.

4.Какие существуют способы обработки исключений?
В Java есть пять ключевых слов для работы с исключениями:

  -try – данное ключевое слово используется для отметки начала блока кода, который потенциально может привести к ошибке.
  -catch – ключевое слово для отметки начала блока кода, предназначенного для перехвата и обработки исключений.
  -finally – ключевое слово для отметки начала блока кода, которой является дополнительным. 
      Этот блок помещается после последнего блока ‘catch’. Управление обычно передаётся в блок ‘finally’ в любом случае.
  -throw – служит для генерации исключений.
  -throws – ключевое слово, которое прописывается в сигнатуре метода, и обозначающее что метод потенциально может выбросить исключение с указанным типом.
  
5.О чем говорит ключевое слово throws?
throws – ключевое слово, которое прописывается в сигнатуре метода, и обозначающее что метод потенциально может выбросить исключение с указанным типом.

6.В чем особенность блока finally? Всегда ли он исполняется?
Когда исключение передано, выполнение метода направляется по нелинейному пути. Это может стать источником проблем.
Например, при входе метод открывает файл и закрывает при выходе. Чтобы закрытие файла не было пропущено из-за обработки исключения, был предложен механизм finally.

Ключевое слово finally создаёт блок кода, который будет выполнен после завершения блока try/catch, но перед кодом, следующим за ним.
Блок будет выполнен, независимо от того, передано исключение или нет. Оператор finally не обязателен, однако каждый оператор try требует наличия либо catch, либо finally. 
Код в блоке finally будет выполнен всегда.
  
7.Может ли не быть ни одного блока catch при отлавливании исключений?
Такая запись допустима, если имеется связка try{} finally {}.

8.

Если умерла jvm или завершен демон-поток, в котором был блок finally.

9.  Может ли один блок catch отлавливать несколько исключений (с одной и разных веток наследований)?
при помощи оператора |.

10.Что вы знаете об обрабатываемых и не обрабатываемых (checked/unchecked) исключениях?

Все исключительные ситуации делятся на «проверяемые» (checked) и «непроверяемые» (unchecked).
Это свойство присуще родительским классам (Throwable, Error, Exception, RuntimeException) и передается по наследству. Эти свойства нельзя никак определить 
в коде класса исключения. Все наследники классов Throwable и Exception- checked, наследники Error и RunTimeException- unchecked.
checked exception = проверяемое исключение, проверяемое компилятором.

11. В чем особенность RuntimeException?
public class RuntimeException extends Exception – базовый класс для ошибок во время выполнения. Относится к необрабатываемым исключениям (uncatched\unchecked). 
Как сказано в описании класса – это суперкласс, исключения которого могут быть выброшены во время нормальной работы JVM.

12. Как написать собственное (“пользовательское”) исключение? Какими мотивами вы будете руководствоваться при выборе типа исключения: checked/unchecked?
Необходимо унаследоваться от базового класса требуемого типа исключений (например от Exception или RuntimeException).

13. Какой оператор позволяет принудительно выбросить исключение?
throw new Exception();

14. Есть ли дополнительные условия к методу, который потенциально может выбросить исключение?
Если это проверяемое исключение, то оно должно быть задекларировано в сигнатуре метода.(public void someMethod() throws Exception)

15. Может ли метод main выбросить исключение во вне и если да, то где будет происходить обработка данного исключения?
Может и оно будет передано в виртуальную машину Java (JVM).

16. Если оператор return содержится и в блоке catch и в finally, какой из них “главнее”?
Вернется из блока finally.

17. Что вы знаете о OutOfMemoryError?
OutOfMemoryError выбрасывается, когда виртуальная машина Java не может выделить (разместить) объект из-за нехватки памяти, а сборщик мусора не может высвободить ещё.

Область памяти, занимаемая java процессом, состоит из нескольких частей. Тип OutOfMemoryError зависит от того, в какой из них не хватило места.

1. java.lang.OutOfMemoryError: Java heap space
Не хватает места в области памяти в которую помещаются объекты, создаваемые программно в приложении.
Если мы пытаемся создать объект, а места в области памяти не осталось, то получаем эту ошибку.

2. java.lang.OutOfMemoryError: PermGen space
Данная ошибка возникает при нехватке места в Permanent области.

3. java.lang.OutOfMemoryError: GC overhead limit exceeded
Данная ошибка может возникнуть как при переполнении первой, так и второй областей. Связана она с тем, что памяти осталось мало и GC постоянно работает,
пытаясь высвободить немного места.

4. java.lang.OutOfMemoryError: unable to create new native thread

Выбрасывается, когда нет возможности создать еще потоки.

18. Что вы знаете о SQLException? К какому типу checked или unchecked оно относится, почему?
SQLException предоставляет информацию об ошибках доступа к базе данных или других ошибках связанных с работой с базами данных.

SQLException относится к checked исключениям, так как проевряется во время компиляции приложения.

19. Что такое Error? В каком случае используется Error. Приведите пример Error’а.
Ошибки (Errors) представляют собой более серьёзные проблемы, которые не следует пытаться обрабатывать в собственной программе,
поскольку они связаны с проблемами уровня JVM. Например, исключения возникают, если закончилась память, доступная виртуальной машине.

20. Какая конструкция используется в Java для обработки исключений?
Можно использовать try-catch-finally и c 7й Java try-with-resources.

21. Предположим, есть блок try-finally. В блоке try возникло исключение и выполнение переместилось в блок finally. В блоке finally тоже возникло исключение.
Какое из двух исключений “выпадет” из блока try-finally? Что случится со вторым исключением?
Будет обработано в finally блоке. 
Если до блока finally исключение было обработано, то мы можем получить информацию об исключении в блоке try и тем самым не потерять исключение, 
которое впоследствии может быть перезаписано в finally другим исключением, в противном случае информацию о исключении в блоке try мы не увидим.

22. Предположим, есть метод, который может выбросить IOException и FileNotFoundException в какой последовательности должны идти блоки catch? 
Сколько блоков catch будет выполнено?
Общее правило – обрабатывать исключения нужно от “младшего” к старшему. Т.е. нельзя поставить в первый блок catch(Exception e) {},
иначе все дальнейшие блоки catch() уже ничего не смогут обработать, т.к. любое исключение будет попадать под ExceptionName extends Exception.

Таким образом сначала нужно обработать public class FileNotFoundException extends IOException, а затем уже IOException.
